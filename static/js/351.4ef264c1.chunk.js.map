{"version":3,"file":"static/js/351.4ef264c1.chunk.js","mappings":"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","sources":["webpack://reactapp1/./src/components/Users/Users.module.css?b9d0","components/Users/Users.jsx","components/Users/UsersContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"avaImg\":\"Users_avaImg__m6zlh\",\"selectedPage\":\"Users_selectedPage__GPgcb\",\"dark\":\"Users_dark__gShT+\",\"unselectedPage\":\"Users_unselectedPage__LcaEe\",\"paginator\":\"Users_paginator__RRQlf\",\"paginatorContent\":\"Users_paginatorContent__7s0J4\",\"navBtn\":\"Users_navBtn__5RyZ9\",\"forMobile\":\"Users_forMobile__8cl+P\",\"forBigScreens\":\"Users_forBigScreens__mF43o\",\"users\":\"Users_users__qMNtH\",\"user\":\"Users_user__dwwGg\",\"userName\":\"Users_userName__-6lRd\",\"userSearch\":\"Users_userSearch__ulIT4\",\"submitBtn\":\"Users_submitBtn__tzrgY\",\"searchBtn\":\"Users_searchBtn__IBLvQ\"};","import React, { useRef } from \"react\";\nimport s from \"./Users.module.css\";\nimport userPhoto from \"../../images/img.jpg\"\nimport { NavLink } from \"react-router-dom\";\nimport { setQuery } from \"../../redux/usersReducer\";\n      \nconst Users = (props) => {\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\n    let pages = [];\n    for (let i = 1; i <= pagesCount; i++){\n        pages.push(i);\n    }\n\n    let startPage;\n    let endPage;\n\n    if (props.currentPage <= 3) {\n        startPage = 1;\n        endPage = Math.min(5, pagesCount);\n    } else if (props.currentPage >= pagesCount - 2) {\n        endPage = pagesCount;\n        startPage = Math.max(1, pagesCount - 4);\n    } else {\n        startPage = props.currentPage - 2;\n        endPage = props.currentPage + 2;\n    }\n\n    const inputRef = useRef()\n\n    const queryBtn = () => {\n        if (inputRef.current.value){\n            props.setQuery(inputRef.current.value)\n            inputRef.current.value = \"\"\n        }\n    }\n\n    const sbrosBtn = () => {\n        props.setQuery(\"\")\n    }\n\n    let dark = props.dark ? s.dark : \"\"\n\n    return (\n        <div> \n            <div className={s.paginator}>\n                <div className={s.paginatorContent}>\n                    <span>\n                        <button\n                            style={props.dark ? {background: 'rgb(47, 248, 255)', background: 'radial-gradient(circle, rgb(47, 248, 255) 0%, white 100%)'} : null}\n                            className={s.navBtn + \" \" + s.submitBtn} disabled={props.currentPage === 1} onClick={() => props.onPageChanged(1)}>{\"<< первая\"}\n                        </button>\n                        <button\n                            style={props.dark ? {background: 'rgb(47, 248, 255)', background: 'radial-gradient(circle, rgb(47, 248, 255) 0%, white 100%)'} : null}\n                            className={s.navBtn + \" \" + s.submitBtn} disabled={props.currentPage === 1} onClick={() => props.onPageChanged(props.currentPage - 1)}>{\"<< назад\"}\n                        </button>\n                    </span>\n                    \n                    <span className={s.forBigScreens}>\n                        {pages.slice(startPage - 1, endPage).map((p, index) => {\n                            return <span key={index} onClick={() => props.onPageChanged(p)} className={props.currentPage === p ? s.selectedPage + \" \" + dark : s.unselectedPage}>{p}</span>\n                        })}\n                    </span>\n\n                    \n                    <span className={s.forMobile}>{props.currentPage}</span>\n                    \n                    \n                    <span>\n                        <button\n                            style={props.dark ? {background: 'rgb(47, 248, 255)', background: 'radial-gradient(circle, rgb(47, 248, 255) 0%, white 100%)'} : null}\n                            className={s.navBtn + \" \" + s.submitBtn} disabled={props.currentPage === pagesCount} onClick={() => props.onPageChanged(props.currentPage + 1)}>{\"вперед >>\"}\n                        </button>\n                        <button\n                            style={props.dark ? {background: 'rgb(47, 248, 255)', background: 'radial-gradient(circle, rgb(47, 248, 255) 0%, white 100%)'} : null}\n                            className={s.navBtn + \" \" + s.submitBtn} disabled={props.currentPage === pagesCount} onClick={() => props.onPageChanged(pagesCount)}>{\"конец >>\"}\n                        </button>\n                    </span>\n                </div>\n                <div className={s.userSearch}>\n                        <span>Найти:</span>\n                        <input style={props.dark ? {border: 'solid rgb(47, 248, 255) 2px'} : null} ref={inputRef} type=\"text\" name=\"\" id=\"\" />\n                        <button\n                            style={props.dark ? {background: 'rgb(47, 248, 255)', background: 'radial-gradient(circle, rgb(47, 248, 255) 0%, white 100%)'} : null}\n                            className={s.searchBtn} onClick={queryBtn}>\n                            Поиск\n                        </button>\n                        <button \n                            style={props.dark ? {background: 'rgb(47, 248, 255)', background: 'radial-gradient(circle, rgb(47, 248, 255) 0%, white 100%)'} : null}\n                            className={s.searchBtn} onClick={sbrosBtn}>\n                            Сброс\n                        </button>\n                </div>\n            </div>\n            <div className={s.users}>\n                {   \n                    props.users.map(u => <div className={s.user} key={u.id}>\n                        <NavLink to={`/profile/${u.id}`}>\n                            <div className={s.avaImg}>\n                                <img style={{borderRadius: \"100%\"}} src={u.photos.small != null ? u.photos.small : userPhoto} alt=\"\" />\n                            </div>\n                        </NavLink>\n                        <div className={s.userName}>\n                            {u.name}\n                        </div>\n                        <div>\n                            {u.followed \n                                ? <button \n                                    style={props.dark\n                                    ? {background: 'rgb(47, 248, 255)', background: 'radial-gradient(circle, rgb(47, 248, 255) 0%, white 100%)', borderRadius: \"13px\", borderWidth: \"1px\", cursor: \"pointer\"}\n                                    : {background: 'greenyellow', background: 'radial-gradient(circle, greenyellow 0%, white 100%)', borderRadius: \"13px\", borderWidth: \"1px\", cursor: \"pointer\"}} disabled={props.isFollowing.some(id => id === u.id)} onClick={() => {props.unfollow(u.id);}}>Подписаться</button>\n                                : <button \n                                    style={props.dark\n                                    ? {background: 'rgb(47, 248, 255)', background: 'radial-gradient(circle, rgb(47, 248, 255) 0%, white 100%)', borderRadius: \"13px\", borderWidth: \"1px\", cursor: \"pointer\"}\n                                    : {background: 'greenyellow', background: 'radial-gradient(circle, greenyellow 0%, white 100%)', borderRadius: \"13px\", borderWidth: \"1px\", cursor: \"pointer\"}}disabled={props.isFollowing.some(id => id === u.id)} onClick={() => {props.follow(u.id);}}>Отписаться</button>}\n                        </div>\n                    </div>)\n                }\n            </div>\n        </div>\n        \n    );\n}\n\nexport default Users;","import React, { useEffect } from \"react\";\nimport Users from \"./Users\";\nimport { follow, setUsers, unfollow, clearUsers, setCurrentPage, setTotalUsersCount, setUsersAreLoading, setFollowingInProgress, getUsers, setQuery } from \"../../redux/usersReducer\";\nimport { connect } from \"react-redux\";\nimport Preloader from \"../additional/Preloader/Preloader\";\nimport { withAuthRedirect } from \"../hoc/withAuthRedirect\";\nimport { compose } from \"redux\";\n\n\n\n\nconst UsersContainer = (props) =>{\n    \n    useEffect(() =>{\n        props.getUsers(props.currentPage, props.pageSize, props.query);\n        return () =>{\n            props.clearUsers();\n        }\n    }, [props.query]);\n\n    let onPageChanged = (PageNumber) => {\n        props.setCurrentPage(PageNumber);\n        props.clearUsers();\n        props.getUsers(PageNumber, props.pageSize, props.query);\n    }\n\n    return (\n        <>\n            <Users {...props} onPageChanged={onPageChanged}/>\n            {props.isLoading ? <Preloader/> : null}\n        </>\n    ); \n}\n\n\nlet mapStateToProps = (state) =>{\n    return {\n        users: state.Users.users,\n        pageSize: state.Users.pageSize,\n        totalUsersCount: state.Users.totalUsersCount,\n        currentPage: state.Users.currentPage,\n        isLoading: state.Users.isLoading,\n        isFollowing: state.Users.isFollowing,\n        query: state.Users.query,\n        dark: state.Settings.dark\n    }\n}\n\n\n\nexport default compose(connect(mapStateToProps, {unfollow, follow, setUsers, clearUsers, setCurrentPage, setTotalUsersCount, setUsersAreLoading, setFollowingInProgress, getUsers, setQuery} ),  withAuthRedirect)(UsersContainer);\n"],"names":["props","startPage","endPage","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","currentPage","min","max","inputRef","useRef","dark","s","_jsxs","children","className","_jsx","style","background","disabled","onClick","onPageChanged","slice","map","p","index","border","ref","type","name","id","queryBtn","current","value","setQuery","sbrosBtn","users","u","NavLink","to","concat","borderRadius","src","photos","small","userPhoto","alt","followed","borderWidth","cursor","isFollowing","some","unfollow","follow","compose","connect","state","Users","isLoading","query","Settings","setUsers","clearUsers","setCurrentPage","setTotalUsersCount","setUsersAreLoading","setFollowingInProgress","getUsers","withAuthRedirect","useEffect","_Fragment","PageNumber","Preloader"],"sourceRoot":""}