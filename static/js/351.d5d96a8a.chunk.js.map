{"version":3,"file":"static/js/351.d5d96a8a.chunk.js","mappings":"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","sources":["webpack://reactapp1/./src/components/Users/Users.module.css?b9d0","components/Users/Users.jsx","components/Users/UsersContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"avaImg\":\"Users_avaImg__p+56H\",\"selectedPage\":\"Users_selectedPage__t+DRe\",\"dark\":\"Users_dark__4HDIY\",\"unselectedPage\":\"Users_unselectedPage__Cv1PI\",\"paginator\":\"Users_paginator__D30Mh\",\"paginatorContent\":\"Users_paginatorContent__pEHyr\",\"navBtn\":\"Users_navBtn__-c5RM\",\"forMobile\":\"Users_forMobile__YggB+\",\"forBigScreens\":\"Users_forBigScreens__+yyZ2\",\"users\":\"Users_users__f4zWh\",\"user\":\"Users_user__1lDT9\",\"userName\":\"Users_userName__k6XzR\",\"userSearch\":\"Users_userSearch__oCR5-\",\"submitBtn\":\"Users_submitBtn__dtOFH\",\"searchBtn\":\"Users_searchBtn__+3dsh\"};","import React, { useRef } from \"react\";\r\nimport s from \"./Users.module.css\";\r\nimport userPhoto from \"../../images/img.jpg\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { setQuery } from \"../../redux/usersReducer\";\r\n      \r\nconst Users = (props) => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++){\r\n        pages.push(i);\r\n    }\r\n\r\n    let startPage;\r\n    let endPage;\r\n\r\n    if (props.currentPage <= 3) {\r\n        startPage = 1;\r\n        endPage = Math.min(5, pagesCount);\r\n    } else if (props.currentPage >= pagesCount - 2) {\r\n        endPage = pagesCount;\r\n        startPage = Math.max(1, pagesCount - 4);\r\n    } else {\r\n        startPage = props.currentPage - 2;\r\n        endPage = props.currentPage + 2;\r\n    }\r\n\r\n    const inputRef = useRef()\r\n\r\n    const queryBtn = () => {\r\n        if (inputRef.current.value){\r\n            props.setQuery(inputRef.current.value)\r\n            inputRef.current.value = \"\"\r\n        }\r\n    }\r\n\r\n    const sbrosBtn = () => {\r\n        props.setQuery(\"\")\r\n    }\r\n\r\n    let dark = props.dark ? s.dark : \"\"\r\n\r\n    return (\r\n        <div> \r\n            <div className={s.paginator}>\r\n                <div className={s.paginatorContent}>\r\n                    <span>\r\n                        <button\r\n                            style={props.dark ? {background: 'rgb(47, 248, 255)', background: 'radial-gradient(circle, rgb(47, 248, 255) 0%, white 100%)'} : null}\r\n                            className={s.navBtn + \" \" + s.submitBtn} disabled={props.currentPage === 1} onClick={() => props.onPageChanged(1)}>{\"<< первая\"}\r\n                        </button>\r\n                        <button\r\n                            style={props.dark ? {background: 'rgb(47, 248, 255)', background: 'radial-gradient(circle, rgb(47, 248, 255) 0%, white 100%)'} : null}\r\n                            className={s.navBtn + \" \" + s.submitBtn} disabled={props.currentPage === 1} onClick={() => props.onPageChanged(props.currentPage - 1)}>{\"<< назад\"}\r\n                        </button>\r\n                    </span>\r\n                    \r\n                    <span className={s.forBigScreens}>\r\n                        {pages.slice(startPage - 1, endPage).map((p, index) => {\r\n                            return <span key={index} onClick={() => props.onPageChanged(p)} className={props.currentPage === p ? s.selectedPage + \" \" + dark : s.unselectedPage}>{p}</span>\r\n                        })}\r\n                    </span>\r\n\r\n                    \r\n                    <span className={s.forMobile}>{props.currentPage}</span>\r\n                    \r\n                    \r\n                    <span>\r\n                        <button\r\n                            style={props.dark ? {background: 'rgb(47, 248, 255)', background: 'radial-gradient(circle, rgb(47, 248, 255) 0%, white 100%)'} : null}\r\n                            className={s.navBtn + \" \" + s.submitBtn} disabled={props.currentPage === pagesCount} onClick={() => props.onPageChanged(props.currentPage + 1)}>{\"вперед >>\"}\r\n                        </button>\r\n                        <button\r\n                            style={props.dark ? {background: 'rgb(47, 248, 255)', background: 'radial-gradient(circle, rgb(47, 248, 255) 0%, white 100%)'} : null}\r\n                            className={s.navBtn + \" \" + s.submitBtn} disabled={props.currentPage === pagesCount} onClick={() => props.onPageChanged(pagesCount)}>{\"конец >>\"}\r\n                        </button>\r\n                    </span>\r\n                </div>\r\n                <div className={s.userSearch}>\r\n                        <span>Найти:</span>\r\n                        <input style={props.dark ? {border: 'solid rgb(47, 248, 255) 2px'} : null} ref={inputRef} type=\"text\" name=\"\" id=\"\" />\r\n                        <button\r\n                            style={props.dark ? {background: 'rgb(47, 248, 255)', background: 'radial-gradient(circle, rgb(47, 248, 255) 0%, white 100%)'} : null}\r\n                            className={s.searchBtn} onClick={queryBtn}>\r\n                            Поиск\r\n                        </button>\r\n                        <button \r\n                            style={props.dark ? {background: 'rgb(47, 248, 255)', background: 'radial-gradient(circle, rgb(47, 248, 255) 0%, white 100%)'} : null}\r\n                            className={s.searchBtn} onClick={sbrosBtn}>\r\n                            Сброс\r\n                        </button>\r\n                </div>\r\n            </div>\r\n            <div className={s.users}>\r\n                {   \r\n                    props.users.map(u => <div className={s.user} key={u.id}>\r\n                        <NavLink to={`/profile/${u.id}`}>\r\n                            <div className={s.avaImg}>\r\n                                <img src={u.photos.small != null ? u.photos.small : userPhoto} alt=\"\" />\r\n                            </div>\r\n                        </NavLink>\r\n                        <div className={s.userName}>\r\n                            {u.name}\r\n                        </div>\r\n                        <div>\r\n                            {u.followed \r\n                                ? <button disabled={props.isFollowing.some(id => id === u.id)} onClick={() => {props.unfollow(u.id);}}>Unfollow</button>\r\n                                : <button disabled={props.isFollowing.some(id => id === u.id)} onClick={() => {props.follow(u.id);}}>Follow</button>}\r\n                        </div>\r\n                    </div>)\r\n                }\r\n            </div>\r\n        </div>\r\n        \r\n    );\r\n}\r\n\r\nexport default Users;","import React, { useEffect } from \"react\";\r\nimport Users from \"./Users\";\r\nimport { follow, setUsers, unfollow, clearUsers, setCurrentPage, setTotalUsersCount, setUsersAreLoading, setFollowingInProgress, getUsers, setQuery } from \"../../redux/usersReducer\";\r\nimport { connect } from \"react-redux\";\r\nimport Preloader from \"../additional/Preloader/Preloader\";\r\nimport { withAuthRedirect } from \"../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\n\r\n\r\n\r\nconst UsersContainer = (props) =>{\r\n    \r\n    useEffect(() =>{\r\n        props.getUsers(props.currentPage, props.pageSize, props.query);\r\n        return () =>{\r\n            props.clearUsers();\r\n        }\r\n    }, [props.query]);\r\n\r\n    let onPageChanged = (PageNumber) => {\r\n        props.setCurrentPage(PageNumber);\r\n        props.clearUsers();\r\n        props.getUsers(PageNumber, props.pageSize, props.query);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Users {...props} onPageChanged={onPageChanged}/>\r\n            {props.isLoading ? <Preloader/> : null}\r\n        </>\r\n    ); \r\n}\r\n\r\n\r\nlet mapStateToProps = (state) =>{\r\n    return {\r\n        users: state.Users.users,\r\n        pageSize: state.Users.pageSize,\r\n        totalUsersCount: state.Users.totalUsersCount,\r\n        currentPage: state.Users.currentPage,\r\n        isLoading: state.Users.isLoading,\r\n        isFollowing: state.Users.isFollowing,\r\n        query: state.Users.query,\r\n        dark: state.Settings.dark\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default compose(connect(mapStateToProps, {unfollow, follow, setUsers, clearUsers, setCurrentPage, setTotalUsersCount, setUsersAreLoading, setFollowingInProgress, getUsers, setQuery} ),  withAuthRedirect)(UsersContainer);\r\n"],"names":["props","startPage","endPage","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","currentPage","min","max","inputRef","useRef","dark","s","_jsxs","children","className","_jsx","style","background","disabled","onClick","onPageChanged","slice","map","p","index","border","ref","type","name","id","queryBtn","current","value","setQuery","sbrosBtn","users","u","NavLink","to","concat","src","photos","small","userPhoto","alt","followed","isFollowing","some","unfollow","follow","compose","connect","state","Users","isLoading","query","Settings","setUsers","clearUsers","setCurrentPage","setTotalUsersCount","setUsersAreLoading","setFollowingInProgress","getUsers","withAuthRedirect","useEffect","_Fragment","PageNumber","Preloader"],"sourceRoot":""}