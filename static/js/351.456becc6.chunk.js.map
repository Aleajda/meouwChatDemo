{"version":3,"file":"static/js/351.456becc6.chunk.js","mappings":"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","sources":["webpack://reactapp1/./src/components/Users/Users.module.css?b9d0","components/Users/Users.jsx","components/Users/UsersContainer.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"avaImg\":\"Users_avaImg__p+56H\",\"selectedPage\":\"Users_selectedPage__t+DRe\",\"unselectedPage\":\"Users_unselectedPage__Cv1PI\",\"paginator\":\"Users_paginator__D30Mh\",\"paginatorContent\":\"Users_paginatorContent__pEHyr\",\"navBtn\":\"Users_navBtn__-c5RM\",\"forMobile\":\"Users_forMobile__YggB+\",\"forBigScreens\":\"Users_forBigScreens__+yyZ2\",\"users\":\"Users_users__f4zWh\",\"user\":\"Users_user__1lDT9\",\"userName\":\"Users_userName__k6XzR\"};","import React from \"react\";\r\nimport s from \"./Users.module.css\";\r\nimport userPhoto from \"../../images/img.jpg\"\r\nimport { NavLink } from \"react-router-dom\";\r\n      \r\nconst Users = (props) => {\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++){\r\n        pages.push(i);\r\n    }\r\n\r\n    let startPage;\r\n    let endPage;\r\n\r\n    if (props.currentPage <= 3) {\r\n        startPage = 1;\r\n        endPage = Math.min(5, pagesCount);\r\n    } else if (props.currentPage >= pagesCount - 2) {\r\n        endPage = pagesCount;\r\n        startPage = Math.max(1, pagesCount - 4);\r\n    } else {\r\n        startPage = props.currentPage - 2;\r\n        endPage = props.currentPage + 2;\r\n    }\r\n\r\n\r\n    return (\r\n        <div> \r\n            <div className={s.paginator}>\r\n                <div className={s.paginatorContent}>\r\n                    <span>\r\n                        <button className={s.navBtn} disabled={props.currentPage === 1} onClick={() => props.onPageChanged(1)}>{\"<< первая\"}</button>\r\n                        <button className={s.navBtn} disabled={props.currentPage === 1} onClick={() => props.onPageChanged(props.currentPage - 1)}>{\"<< назад\"}</button>\r\n                    </span>\r\n                    \r\n                    <span className={s.forBigScreens}>\r\n                        {pages.slice(startPage - 1, endPage).map(p => {\r\n                            return <span onClick={() => props.onPageChanged(p)} className={props.currentPage === p ? s.selectedPage : s.unselectedPage}>{p}</span>\r\n                        })}\r\n                    </span>\r\n\r\n                    \r\n                    <span className={s.forMobile}>{props.currentPage}</span>\r\n                    \r\n                    \r\n                    <span>\r\n                        <button className={s.navBtn} disabled={props.currentPage === pagesCount} onClick={() => props.onPageChanged(props.currentPage + 1)}>{\"вперед >>\"}</button>\r\n                        <button className={s.navBtn} disabled={props.currentPage === pagesCount} onClick={() => props.onPageChanged(pagesCount)}>{\"последняя >>\"}</button>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <div className={s.users}>\r\n                {   \r\n                    props.users.map(u => <div className={s.user} key={u.id}>\r\n                        <NavLink to={`/profile/${u.id}`}>\r\n                            <div className={s.avaImg}>\r\n                                <img src={u.photos.small != null ? u.photos.small : userPhoto} alt=\"\" />\r\n                            </div>\r\n                        </NavLink>\r\n                        <div className={s.userName}>\r\n                            {u.name}\r\n                        </div>\r\n                        <div>\r\n                            {u.followed \r\n                                ? <button disabled={props.isFollowing.some(id => id === u.id)} onClick={() => {props.unfollow(u.id);}}>Unfollow</button>\r\n                                : <button disabled={props.isFollowing.some(id => id === u.id)} onClick={() => {props.follow(u.id);}}>Follow</button>}\r\n                        </div>\r\n                    </div>)\r\n                }\r\n            </div>\r\n        </div>\r\n        \r\n    );\r\n}\r\n\r\nexport default Users;","import React, { useEffect } from \"react\";\r\nimport Users from \"./Users\";\r\nimport { follow, setUsers, unfollow, clearUsers, setCurrentPage, setTotalUsersCount, setUsersAreLoading, setFollowingInProgress, getUsers } from \"../../redux/usersReducer\";\r\nimport { connect } from \"react-redux\";\r\nimport Preloader from \"../additional/Preloader/Preloader\";\r\nimport { withAuthRedirect } from \"../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\n\r\n\r\n\r\nconst UsersContainer = (props) =>{\r\n\r\n    useEffect(() =>{\r\n        props.getUsers(props.currentPage, props.pageSize);\r\n        return () =>{\r\n            props.clearUsers();\r\n        }\r\n    }, []);\r\n\r\n    let onPageChanged = (PageNumber) => {\r\n        props.setCurrentPage(PageNumber);\r\n        props.clearUsers();\r\n        props.getUsers(PageNumber, props.pageSize);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Users {...props} onPageChanged={onPageChanged}/>\r\n            {props.isLoading ? <Preloader/> : null}\r\n        </>\r\n    ); \r\n}\r\n\r\n\r\nlet mapStateToProps = (state) =>{\r\n    return {\r\n        users: state.Users.users,\r\n        pageSize: state.Users.pageSize,\r\n        totalUsersCount: state.Users.totalUsersCount,\r\n        currentPage: state.Users.currentPage,\r\n        isLoading: state.Users.isLoading,\r\n        isFollowing: state.Users.isFollowing\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default compose(connect(mapStateToProps, {unfollow, follow, setUsers, clearUsers, setCurrentPage, setTotalUsersCount, setUsersAreLoading, setFollowingInProgress, getUsers} ),  withAuthRedirect)(UsersContainer);\r\n"],"names":["props","startPage","endPage","pagesCount","Math","ceil","totalUsersCount","pageSize","pages","i","push","currentPage","min","max","_jsxs","children","_jsx","className","s","disabled","onClick","onPageChanged","slice","map","p","users","u","NavLink","to","concat","id","src","photos","small","userPhoto","alt","name","followed","isFollowing","some","unfollow","follow","compose","connect","state","Users","isLoading","setUsers","clearUsers","setCurrentPage","setTotalUsersCount","setUsersAreLoading","setFollowingInProgress","getUsers","withAuthRedirect","useEffect","_Fragment","PageNumber","Preloader"],"sourceRoot":""}